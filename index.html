<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Bank Aggregator</title>
    <link rel="shortcut icon" type="image/x-icon" href="/newprivacystorage/image/logo-white.png"/>
    <link rel="shortcut icon" type="image/x-icon" href="/image/dex2.png"/>
    <link rel="stylesheet" href="styles.css">
    <!-- Include web3.js -->
    <script src="https://cdn.jsdelivr.net/npm/web3@1.3.6/dist/web3.min.js"></script>
    <script src="script.js"></script>
</head>
<body>

<div class="container">
    <h1><strong>Data Bank Aggregator</strong></h1>

    <!-- MetaMask Login Button -->
    <button id="loginButton" onclick="loginWithMetaMask()">Login with MetaMask</button>

    <!-- Get Price from Oracle Section -->
<div class="interaction-section">
    <h2>Get Price from Oracle</h2>
    <label for="oracleAddress">Oracle Address:</label>
    <input type="text" id="oracleAddress" placeholder="Enter Oracle address">

    <label for="asset">Asset:</label>
    <input type="text" id="asset" placeholder="Enter asset symbol">

    <button onclick="getPriceFromOracle()">Get Price from Oracle</button>
    <!-- Result Container -->
<div id="resultsContainer"></div>
</div>

    <!-- Store Data Section -->
    <div class="interaction-section">
        <h2>Store Data</h2>
        <label for="userAddress">User Address (admin only):</label>
        <input type="text" id="userAddress" placeholder="Enter user address">

        <label for="originalData">Original Data (admin only):</label>
        <input type="text" id="originalData" placeholder="Enter original data">

        <label for="salt">Salt (admin only):</label>
        <input type="text" id="salt" placeholder="Enter salt">

        <label for="batchId">Batch ID (admin only):</label>
        <input type="text" id="batchId" placeholder="Enter batch ID">

        <button onclick="storeData()">Store Data</button>
    </div>

    <!-- Store Batch Data Section -->
    <div class="interaction-section">
        <h2>Store Batch Data</h2>
        <label for="batchUserAddresses">User Addresses (comma-separated)(admin only):</label>
        <input type="text" id="batchUserAddresses" placeholder="Enter user addresses">

        <label for="batchOriginalData">Original Data (comma-separated)(admin only):</label>
        <input type="text" id="batchOriginalData" placeholder="Enter original data">

        <label for="batchSalts">Salts (comma-separated)(admin only):</label>
        <input type="text" id="batchSalts" placeholder="Enter salts">

        <label for="batchIdBatch">Batch ID (admin only):</label>
        <input type="text" id="batchIdBatch" placeholder="Enter batch ID">

        <button onclick="storeBatchData()">Store Batch Data</button>
    </div>

    <!-- Retrieve Data Section -->
    <div class="interaction-section">
        <h2>Retrieve Data</h2>
        <label for="retrieveUserAddress">User Address:</label>
        <input type="text" id="retrieveUserAddress" placeholder="Enter user address">

        <label for="retrieveSalt">Salt:</label>
        <input type="text" id="retrieveSalt" placeholder="Enter salt">

        <button onclick="retrieveOriginalData()">Retrieve Original Data</button>
        <button onclick="retrieveHashedData()">Retrieve Hashed Data</button>

        <!-- Result Container -->
<div id="resultContainer"></div>
    </div>

    <!-- Retrieve Batch Users Section -->
    <div class="interaction-section">
        <h2>Retrieve Batch Users</h2>
        <label for="retrieveBatchId">Batch ID:</label>
        <input type="text" id="retrieveBatchId" placeholder="Enter batch ID">

        <button onclick="retrieveBatchUsers()">Retrieve Batch Users</button>
    </div>
</div>

</body>
</html>